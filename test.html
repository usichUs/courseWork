Nikita Usachev, [30.04.2023 21:17]
html
<!DOCTYPE html>
<html>
<head>
 <title>Tree View Example</title>
 <style>
  ul {
   list-style: none;
   padding-left: 20px;
  }
  li.folder:before {
   content: "üìÅ";
   margin-right: 5px;
  }
  li.file:before {
   content: "üìÑ";
   margin-right: 5px;
  }
  li button {
   margin-left: 10px;
  }
 </style>
</head>
<body>
 <h1>Tree View Example</h1>
 <div id="tree"></div>
 <br>
 <label for="folderName">Folder Name:</label>
 <input type="text" id="folderName">
 <button id="addFolder">Add Folder</button>
 <br>
 <label for="fileName">File Name:</label>
 <input type="text" id="fileName">
 <button id="addFile">Add File</button>

 <script>
  // Define the tree data
  var treeData = [
   {
    name: "Folder 1",
    type: "folder",
    children: [
     {
      name: "File 1",
      type: "file"
     },
     {
      name: "File 2",
      type: "file"
     }
    ]
   },
   {
    name: "Folder 2",
    type: "folder",
    children: [
     {
      name: "File 3",
      type: "file"
     },
     {
      name: "File 4",
      type: "file"
     }
    ]
   }
  ];

  // Create the tree view
  var treeView = document.getElementById("tree");
  var rootNode = document.createElement("ul");
  rootNode.classList.add("folder");
  treeView.appendChild(rootNode);

  function createTree(data, parentNode) {
   for (var i = 0; i < data.length; i++) {
    var node = document.createElement("li");
    node.textContent = data[i].name;
    node.classList.add(data[i].type);
    parentNode.appendChild(node);

    if (data[i].type === "folder") {
     var childNode = document.createElement("ul");
     childNode.classList.add("folder");
     node.appendChild(childNode);
     createTree(data[i].children, childNode);

     // Add event listener for selecting folder
     node.addEventListener("click", function() {
      selectedFolder = this;
     });
    }

    // Add delete button
    var deleteButton = document.createElement("button");
    deleteButton.textContent = "Delete";
    node.appendChild(deleteButton);

    // Add event listener for deleting element
    deleteButton.addEventListener("click", function(event) {
     event.stopPropagation();
     this.parentNode.parentNode.removeChild(this.parentNode);
    });
   }
  }

  createTree(treeData, rootNode);

  // Add event listener for adding folder
  var addFolderButton = document.getElementById("addFolder");
  addFolderButton.addEventListener("click", function() {
   var folderName = document.getElementById("folderName").value;
   if (folderName !== "") {
    var folderNode = document.createElement("li");
    folderNode.textContent = folderName;
    folderNode.classList.add("folder");
    selectedFolder.appendChild(folderNode);

    var childNode = document.createElement("ul");
    childNode.classList.add("folder");
    folderNode.appendChild(childNode);

    // Add delete button
    var deleteButton = document.createElement("button");
    deleteButton.textContent = "Delete";
    folderNode.appendChild(deleteButton);

    // Add event listener for deleting element
    deleteButton.addEventListener("click", function(event) {
     event.stopPropagation();
     this.parentNode.parentNode.removeChild(this.parentNode);
    });

    // Clear input field
    document.getElementById("folderName").value = "";
   }
  });
  // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
tree.addEventListener('contextmenu', function(e) {
  e.preventDefault(); // –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞
  var node = e.target; // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª —Å–¥–µ–ª–∞–Ω —â–µ–ª—á–æ–∫ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏
  var menu = document.createElement('menu'); // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é
  menu.setAttribute('type', 'context'); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∏–ø –º–µ–Ω—é
  var addMenuItem = document.createElement('menuitem'); // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é "–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç"
  addMenuItem.setAttribute('label', '–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç');
  addMenuItem.addEventListener('click', function() {
    var newNode = document.createElement('li'); // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
    newNode.textContent = '–ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç'; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
    node.appendChild(newNode); // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
  });
  menu.appendChild(addMenuItem); // –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç "–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç" –≤ –º–µ–Ω—é
  if (node.parentNode !== tree) { // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –∫–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç
    var deleteMenuItem = document.createElement('menuitem'); // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é "–£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç"
    deleteMenuItem.setAttribute('label', '–£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç');
    deleteMenuItem.addEventListener('click', function() {
      node.parentNode.removeChild(node); // –£–¥–∞–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –¥–µ—Ä–µ–≤–∞
    });
    menu.appendChild(deleteMenuItem); // –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç "–£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç" –≤ –º–µ–Ω—é
  }
  menu.popup(e.clientX, e.clientY); // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
});

  // Add event listener for adding file
  var addFileButton = document.getElementById("addFile");
  addFileButton.addEventListener("click", function() {
   var fileName = document.getElementById("fileName").value;
   if (fileName !== "") {
    var fileNode = document.createElement("li");
    fileNode.textContent = fileName;
    fileNode.classList.add("file");
    selectedFolder.appendChild(fileNode);

    // Add delete button
    var deleteButton = document.createElement("button");
    deleteButton.textContent = "Delete";
    fileNode.appendChild(deleteButton);

    // Add event listener for deleting element
    deleteButton.addEventListener("click", function(event) {
     event.stopPropagation();
     this.parentNode.parentNode.removeChild(this.parentNode);
    });
    // Clear input field
    document.getElementById("fileName").value = "";
   }
  });

  // Initialize selected folder
  var selectedFolder = rootNode;
 </script>
</body>
</html>